<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OurSales ‚Ä¢ Novo Or√ßamento</title>
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body data-page="orcamento-form">
    <header>
      <h1 id="orcamentoFormTitle">üõí Or√ßamento - Novo</h1>
      <p>
        Preencha as informa√ß√µes do or√ßamento, adicione produtos e calcule os
        totais.
      </p>
    </header>

    <nav>
      <div class="nav-inner">
        <a href="index.html" data-page="home">In√≠cio</a>
        <a href="clientes.html" data-page="clientes">Clientes</a>
        <a href="orcamentos.html" data-page="orcamentos">Or√ßamentos</a>
        <a href="pedidos.html" data-page="pedidos">Pedidos</a>
        <a href="produtos.html" data-page="produtos">Produtos</a>
        <a href="crm.html" data-page="crm">CRM</a>
        <a href="configuracoes.html" data-page="configuracoes">‚öôÔ∏è Mais</a>
      </div>
    </nav>

    <main>
      <form id="orcamentoForm" autocomplete="off">
        <input type="hidden" id="orcamentoId" />

        <!-- A√ß√µes do formul√°rio -->
        <section class="card">
          <div class="hero-actions">
            <button type="submit" id="orcamentoSalvar">Salvar</button>
            <button
              type="button"
              id="orcamentoSalvarEnviar"
              class="button-secondary"
            >
              Salvar e Enviar
            </button>
            <button
              type="button"
              id="orcamentoVisualizar"
              class="button-secondary"
            >
              Visualizar
            </button>
            <a href="orcamentos.html" class="button button-danger">Voltar</a>
          </div>
        </section>

        <!-- Informa√ß√µes sobre o Or√ßamento -->
        <section class="card">
          <h3>Informa√ß√µes sobre o Or√ßamento</h3>
          <div class="grouped three">
            <label>
              Cliente *
              <select id="orcamentoCliente" required></select>
            </label>
            <label>
              Comprador
              <select id="orcamentoComprador">
                <option value="">Selecione</option>
              </select>
            </label>
            <label>
              Transportadora
              <select id="orcamentoTransportadora"></select>
            </label>
          </div>

          <div class="grouped four">
            <label>
              Frete
              <select id="orcamentoTipoFrete">
                <option value="">Selecione</option>
                <option value="cif">CIF</option>
                <option value="fob">FOB</option>
                <option value="sem">Sem Frete</option>
              </select>
            </label>
            <label>
              Dt. Or√ßamento *
              <input type="date" id="orcamentoData" required />
            </label>
            <label>
              Dt. Validade
              <input type="date" id="orcamentoValidade" />
            </label>
            <label>
              Previs√£o Entrega
              <input type="date" id="orcamentoPrevisaoEntrega" />
            </label>
          </div>

          <div class="grouped two">
            <label>
              Nota Fiscal
              <input
                type="text"
                id="orcamentoNotaFiscal"
                placeholder="N√∫mero da NF"
              />
            </label>
            <label>
              Descri√ß√£o do Or√ßamento
              <input
                type="text"
                id="orcamentoDescricao"
                placeholder="Ex: 120 unidades linha Evolution"
              />
            </label>
          </div>
        </section>

        <!-- Itens do Or√ßamento -->
        <section class="card">
          <div class="section-header">
            <div>
              <h3>Itens do Or√ßamento</h3>
            </div>
            <div class="toolbar">
              <button
                type="button"
                id="buscarProdutos"
                class="button-secondary"
              >
                üîç Buscar Produtos
              </button>
            </div>
          </div>

          <div class="search-product-container">
            <input
              type="text"
              id="produtoSearch"
              placeholder="Nome do produto, c√≥digo ou SKU"
              class="search-product-input"
            />
            <button
              type="button"
              id="adicionarProduto"
              class="button-secondary"
            >
              ‚ûï Adicionar
            </button>
          </div>

          <div class="table-wrapper" style="margin-top: 1rem">
            <table>
              <thead>
                <tr>
                  <th style="width: 40px"></th>
                  <th>C√≥digo</th>
                  <th>Descri√ß√£o</th>
                  <th>R$ Tabela</th>
                  <th>Pre√ßo Final</th>
                  <th>Qtde</th>
                  <th>Total R$</th>
                  <th style="width: 60px">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="orcamentoItensList">
                <tr>
                  <td colspan="8" class="empty-state">
                    Nenhum produto adicionado neste or√ßamento!
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Totais do Or√ßamento -->
        <section class="card">
          <h3>Totais do Or√ßamento</h3>

          <div class="totals-grid">
            <div class="totals-column">
              <div class="total-item">
                <span class="total-label">Qtde. Itens</span>
                <span class="total-value" id="totalItens">0,00</span>
              </div>
              <div class="total-item">
                <span class="total-label">Qtde Produtos</span>
                <span class="total-value" id="totalProdutos">0,00</span>
              </div>
              <div class="total-item">
                <span class="total-label">Total Peso L√≠quido</span>
                <span class="total-value" id="totalPesoLiquido">0,000 Kg</span>
              </div>
              <div class="total-item">
                <span class="total-label">Total IPI</span>
                <span class="total-value" id="totalIPI">R$ 0,00</span>
              </div>
            </div>

            <div class="totals-column">
              <div class="total-item">
                <span class="total-label">Acr√©scimo</span>
                <span class="total-value" id="totalAcrescimo">R$ 0,00</span>
              </div>
              <div class="total-item">
                <span class="total-label">Total Peso Bruto</span>
                <span class="total-value" id="totalPesoBruto">0,000 Kg</span>
              </div>
              <div class="total-item">
                <span class="total-label">Total S/ Impostos</span>
                <span class="total-value" id="totalSemImpostos">R$ 0,00</span>
              </div>
            </div>

            <div class="totals-column">
              <div class="total-item">
                <span class="total-label">Frete</span>
                <span class="total-value" id="totalFrete">R$ 0,00</span>
              </div>
              <div class="total-item">
                <span class="total-label">Desconto</span>
                <span class="total-value" id="totalDesconto">R$ 0,00</span>
              </div>
              <div class="total-item">
                <span class="total-label">Total ST</span>
                <span class="total-value" id="totalST">R$ 0,00</span>
              </div>
              <div class="total-item highlight">
                <span class="total-label"><strong>Total Final</strong></span>
                <span class="total-value"
                  ><strong id="totalFinal">R$ 0,00</strong></span
                >
              </div>
            </div>
          </div>

          <div class="frete-calculator">
            <h4>Calcular Frete</h4>
            <div class="grouped three">
              <label>
                Valor do Frete (R$)
                <input
                  type="number"
                  id="valorFrete"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </label>
              <label>
                Acr√©scimo (R$)
                <input
                  type="number"
                  id="valorAcrescimo"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </label>
              <label>
                Desconto (R$)
                <input
                  type="number"
                  id="valorDesconto"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </label>
            </div>
          </div>
        </section>

        <!-- Informa√ß√µes Complementares -->
        <section class="card">
          <h3>Informa√ß√µes Complementares</h3>

          <div class="grouped two">
            <label class="checkbox-label">
              <input type="checkbox" id="orcamentoCancelado" />
              Or√ßamento Cancelado
            </label>
            <label>
              N¬∫ Ordem de Compra
              <input
                type="text"
                id="orcamentoOrdemCompra"
                placeholder="N√∫mero da OC"
              />
            </label>
          </div>

          <div class="grouped two">
            <label>
              Status
              <select id="orcamentoStatus">
                <option value="pendente">Pendente</option>
                <option value="aprovado">Aprovado</option>
                <option value="negociacao">Em Negocia√ß√£o</option>
                <option value="cancelado">Cancelado</option>
                <option value="convertido">Convertido em Pedido</option>
              </select>
            </label>
            <label>
              Vendedor
              <select id="orcamentoVendedor">
                <option value="">Selecione</option>
                <option value="vendedor1">Vendedor 1</option>
                <option value="vendedor2">Vendedor 2</option>
              </select>
            </label>
          </div>

          <label>
            Observa√ß√µes
            <textarea
              id="orcamentoObservacoes"
              rows="3"
              placeholder="Condi√ß√µes comerciais, detalhes da proposta..."
            ></textarea>
          </label>

          <label>
            Condi√ß√£o de Pagamento
            <textarea
              id="orcamentoCondicaoPagamento"
              rows="2"
              placeholder="Ex: 30% entrada, 70% em 3x"
            ></textarea>
          </label>

          <label>
            Observa√ß√£o Privada
            <textarea
              id="orcamentoObservacaoPrivada"
              rows="2"
              placeholder="Anota√ß√µes internas (n√£o aparece no or√ßamento)"
            ></textarea>
          </label>

          <label class="checkbox-label">
            <input type="checkbox" id="considerarCondicaoCliente" />
            Considerar condi√ß√£o de pagamento do Cliente no or√ßamento
          </label>
        </section>

        <!-- Anexos -->
        <section class="card">
          <h3>Anexos do Or√ßamento</h3>
          <div class="attachments-area">
            <p class="muted">Ainda n√£o h√° arquivos anexados!</p>
            <p class="muted" style="font-size: 0.9rem">
              Selecione arquivos do seu computador para anexar ao or√ßamento.
            </p>
            <div style="margin-top: 1rem">
              <button
                type="button"
                id="selecionarArquivos"
                class="button-secondary"
              >
                Selecionar Arquivos
              </button>
              <button
                type="button"
                id="vincularArquivo"
                class="button-secondary"
              >
                Vincular arquivo existente
              </button>
            </div>
          </div>
          <div id="arquivosAnexados" style="margin-top: 1rem"></div>
        </section>

        <!-- A√ß√µes finais -->
        <section class="card">
          <div class="hero-actions">
            <button type="submit">Salvar Or√ßamento</button>
            <a href="orcamentos.html" class="button button-secondary"
              >Cancelar</a
            >
          </div>
        </section>
      </form>
    </main>

    <footer>
      Garanta que os clientes e produtos estejam cadastrados para criar
      or√ßamentos completos.
    </footer>

    <script src="assets/js/app.js" defer></script>
  </body>
</html>
